<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Introduction to R and RStudio | UVA Health Sciences Library Workshops</title>
  <meta name="description" content="This site hosts workshop tutorial materials for researchers in the life sciences at the University of Virginia to learn R skills." />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Introduction to R and RStudio | UVA Health Sciences Library Workshops" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://hsl-workshops.netlify.com/" />
  <meta property="og:image" content="https://hsl-workshops.netlify.com/images/UVA_HSL.png" />
  <meta property="og:description" content="This site hosts workshop tutorial materials for researchers in the life sciences at the University of Virginia to learn R skills." />
  <meta name="github-repo" content="HSL-Data/HSL_Workshops" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Introduction to R and RStudio | UVA Health Sciences Library Workshops" />
  
  <meta name="twitter:description" content="This site hosts workshop tutorial materials for researchers in the life sciences at the University of Virginia to learn R skills." />
  <meta name="twitter:image" content="https://hsl-workshops.netlify.com/images/UVA_HSL.png" />

<meta name="author" content="Data Services @ HSL" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/UVA_HSL.png" />
  <link rel="shortcut icon" href="images/UVA_HSL.png" type="image/x-icon" />
<link rel="prev" href="index.html">
<link rel="next" href="ggplot.html">
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-instructors"><i class="fa fa-check"></i>About the Instructors</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#david-n-martin-ms"><i class="fa fa-check"></i>David N Martin, MS</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#marieke-k-jones-phd"><i class="fa fa-check"></i>Marieke K Jones, PhD</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Core Lessons</b></span></li>
<li class="chapter" data-level="1" data-path="Intro.html"><a href="Intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a><ul>
<li class="chapter" data-level="1.0.1" data-path="Intro.html"><a href="Intro.html#panes-in-rstudio"><i class="fa fa-check"></i><b>1.0.1</b> Panes in RStudio</a></li>
<li class="chapter" data-level="1.0.2" data-path="Intro.html"><a href="Intro.html#rstudio-global-options"><i class="fa fa-check"></i><b>1.0.2</b> RStudio Global Options</a></li>
<li class="chapter" data-level="1.1" data-path="Intro.html"><a href="Intro.html#set-up-an-r-project"><i class="fa fa-check"></i><b>1.1</b> Set up an R Project</a><ul>
<li class="chapter" data-level="1.1.1" data-path="Intro.html"><a href="Intro.html#download-learning-materials"><i class="fa fa-check"></i><b>1.1.1</b> Download learning materials</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Intro.html"><a href="Intro.html#r-as-a-calculator"><i class="fa fa-check"></i><b>1.2</b> R as a calculator</a><ul>
<li class="chapter" data-level="1.2.1" data-path="Intro.html"><a href="Intro.html#comments"><i class="fa fa-check"></i><b>1.2.1</b> Comments</a></li>
<li class="chapter" data-level="1.2.2" data-path="Intro.html"><a href="Intro.html#creating-r-objects"><i class="fa fa-check"></i><b>1.2.2</b> Creating R objects</a></li>
<li class="chapter" data-level="1.2.3" data-path="Intro.html"><a href="Intro.html#exercise-1"><i class="fa fa-check"></i><b>1.2.3</b> EXERCISE 1</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Intro.html"><a href="Intro.html#functions"><i class="fa fa-check"></i><b>1.3</b> Functions</a><ul>
<li class="chapter" data-level="1.3.1" data-path="Intro.html"><a href="Intro.html#exercise-2"><i class="fa fa-check"></i><b>1.3.1</b> EXERCISE 2</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="Intro.html"><a href="Intro.html#more-functions"><i class="fa fa-check"></i><b>1.4</b> More Functions</a><ul>
<li class="chapter" data-level="1.4.1" data-path="Intro.html"><a href="Intro.html#exercise-3"><i class="fa fa-check"></i><b>1.4.1</b> EXERCISE 3</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="Intro.html"><a href="Intro.html#dataframes"><i class="fa fa-check"></i><b>1.5</b> DataFrames</a></li>
<li class="chapter" data-level="1.6" data-path="Intro.html"><a href="Intro.html#r-packages"><i class="fa fa-check"></i><b>1.6</b> R Packages</a></li>
<li class="chapter" data-level="1.7" data-path="Intro.html"><a href="Intro.html#inspecting-dataframes"><i class="fa fa-check"></i><b>1.7</b> Inspecting Dataframes</a></li>
<li class="chapter" data-level="1.8" data-path="Intro.html"><a href="Intro.html#accessing-variables"><i class="fa fa-check"></i><b>1.8</b> Accessing variables</a><ul>
<li class="chapter" data-level="1.8.1" data-path="Intro.html"><a href="Intro.html#exercise-4"><i class="fa fa-check"></i><b>1.8.1</b> EXERCISE 4</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="Intro.html"><a href="Intro.html#subset-a-dataframe-using-filter"><i class="fa fa-check"></i><b>1.9</b> Subset a dataframe using filter()</a><ul>
<li class="chapter" data-level="1.9.1" data-path="Intro.html"><a href="Intro.html#exercise-1.5"><i class="fa fa-check"></i><b>1.9.1</b> EXERCISE 1.5</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="Intro.html"><a href="Intro.html#plots-in-base-r"><i class="fa fa-check"></i><b>1.10</b> Plots in base R</a><ul>
<li class="chapter" data-level="1.10.1" data-path="Intro.html"><a href="Intro.html#exercise-5"><i class="fa fa-check"></i><b>1.10.1</b> EXERCISE 5</a></li>
</ul></li>
<li class="chapter" data-level="1.11" data-path="Intro.html"><a href="Intro.html#write-csv-file"><i class="fa fa-check"></i><b>1.11</b> Write csv file</a></li>
<li class="chapter" data-level="1.12" data-path="Intro.html"><a href="Intro.html#saving-your-work-and-quitting-r"><i class="fa fa-check"></i><b>1.12</b> Saving your work and quitting R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>2</b> Data Visualization with ggplot2</a><ul>
<li class="chapter" data-level="2.1" data-path="ggplot.html"><a href="ggplot.html#resources-to-learn-ggplot2"><i class="fa fa-check"></i><b>2.1</b> Resources to learn ggplot2</a></li>
<li class="chapter" data-level="2.2" data-path="ggplot.html"><a href="ggplot.html#make-sure-everyone-has-tidyverse-or-readr-dplyr-ggplot2"><i class="fa fa-check"></i><b>2.2</b> Make sure everyone has tidyverse or readr, dplyr, ggplot2</a></li>
<li class="chapter" data-level="2.3" data-path="ggplot.html"><a href="ggplot.html#download-data-and-make-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Download data and make a new project</a><ul>
<li class="chapter" data-level="2.3.1" data-path="ggplot.html"><a href="ggplot.html#gapminder-data"><i class="fa fa-check"></i><b>2.3.1</b> Gapminder data</a></li>
<li class="chapter" data-level="2.3.2" data-path="ggplot.html"><a href="ggplot.html#dplyr-review"><i class="fa fa-check"></i><b>2.3.2</b> dplyr review</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ggplot.html"><a href="ggplot.html#ggplot"><i class="fa fa-check"></i><b>2.4</b> About ggplot2</a></li>
<li class="chapter" data-level="2.5" data-path="ggplot.html"><a href="ggplot.html#plotting-bivariate-data-continuous-y-by-continuous-x"><i class="fa fa-check"></i><b>2.5</b> Plotting bivariate data: continuous Y by continuous X</a><ul>
<li class="chapter" data-level="2.5.1" data-path="ggplot.html"><a href="ggplot.html#adding-layers"><i class="fa fa-check"></i><b>2.5.1</b> Adding layers</a></li>
<li class="chapter" data-level="2.5.2" data-path="ggplot.html"><a href="ggplot.html#faceting"><i class="fa fa-check"></i><b>2.5.2</b> Faceting</a></li>
<li class="chapter" data-level="2.5.3" data-path="ggplot.html"><a href="ggplot.html#saving-plots"><i class="fa fa-check"></i><b>2.5.3</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="ggplot.html"><a href="ggplot.html#plotting-bivariate-data-continuous-y-by-categorical-x"><i class="fa fa-check"></i><b>2.6</b> Plotting bivariate data: continuous Y by categorical X</a></li>
<li class="chapter" data-level="2.7" data-path="ggplot.html"><a href="ggplot.html#plotting-univariate-continuous-data"><i class="fa fa-check"></i><b>2.7</b> Plotting univariate continuous data</a></li>
<li class="chapter" data-level="2.8" data-path="ggplot.html"><a href="ggplot.html#publication-ready-plots-themes"><i class="fa fa-check"></i><b>2.8</b> Publication-ready plots &amp; themes</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UVA Health Sciences Library Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction to R and RStudio</h1>
<p>R is the underlying statistical computing environment. You can think of this like the engine of a car. That makes RStudio like the dashboard<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<p><img src="images/engine.jpg" alt="R is the engine" width="250" /> <img src="images/dashboard.jpg" alt="RStudio is the dashboard" width="250" /></p>
<p>RStudio is an integrated development environment (IDE) that allows us to interact with R. RStudio sits on top of R and makes writing and executing R code a lot easier. We’ll be benefiting from many of the added features that come with RStudio and we will point them out as we go.</p>
<div id="panes-in-rstudio" class="section level3">
<h3><span class="header-section-number">1.0.1</span> Panes in RStudio</h3>
<p>When you open RStudio, you will have access to R (there is no need to open R directly).</p>
<p>Now go to the top menu to open a new R Script File –&gt; New File –&gt; R Script</p>
<p>Great! Now you will see four panes</p>
<ul>
<li>I have mine set up as follows:
<ul>
<li>Editor / script / source in the top left</li>
<li>Console bottom left</li>
<li>Environment/history on the top right</li>
<li>Plots/help on the bottom right</li>
</ul></li>
</ul>
<div class="figure">
<img src="images/RStudioPanes_labeled.png" alt="Four pane layout in RStudio" width="400" />
<p class="caption">Four pane layout in RStudio</p>
</div>
<ul>
<li><p>On the top left is the <strong>script</strong> or editor window. This is where we are going to write all of our code.</p></li>
<li><p>On the lower left we have the <strong>console</strong> window. This is where R is running, and this is what you would see if you opened R instead of RStudio. In this pane we can see the code we send and then the answer.</p></li>
<li><p>The top right has the <strong>environment</strong> and history tabs. The Environment is a list of all objects that are saved in memory. The History tab shows all commands that have been run.</p></li>
<li>On the bottom right hand side there’s a window with several tabs.
<ul>
<li><strong>Files</strong> shows the file structure of the working directory.</li>
<li><strong>Plots</strong> is where your visualizations will appear.</li>
<li>Packages shows all of the installed packages where checked ones are loaded and unchecked packages are not loaded.</li>
<li><strong>Help</strong> shows information about functions.</li>
<li>Viewer for viewing other kinds of output, like web content.</li>
</ul></li>
</ul>
</div>
<div id="rstudio-global-options" class="section level3">
<h3><span class="header-section-number">1.0.2</span> RStudio Global Options</h3>
<ul>
<li>There is one set-up preference that I think everyone will prefer. Go to Tools –&gt; Global Options</li>
</ul>
<p><img src="images/softwrap_code.png" alt="In the Code menu check the box for “Soft-wrap R source files”" width="400" />
This wraps long lines of code on to the next line automatically so that you do not have to scroll left and right to see a long line of code.</p>
</div>
<div id="set-up-an-r-project" class="section level2">
<h2><span class="header-section-number">1.1</span> Set up an R Project</h2>
<p>I mentioned previously that RStudio has a lot of pretty handy features. One of those is the project structure</p>
<p>Before we can start writing code we need to set up a project so that the data and our codes will be in the same place. Go to File –&gt; New Project–&gt; New Directory. I will name mine IntroR and it will be a folder on my desktop</p>
<div class="figure">
<img src="images/NewRproj.png" alt="New R Project" width="350" />
<p class="caption">New R Project</p>
</div>
<p>Now we have opened up a new instance of RStudio running inside the IntroR folder. Notice on the top of the console pane and the Files pane (bottom right) that the path to the IntroR folder is specified.</p>
<p>When we start reading in data it will be important that the <em>code and the data are in the same place.</em> Creating a project creates an Rproj file that runs R <em>in that folder</em>. If you are familiar with working directories, this process is setting the working directory for this project as this folder.</p>
<p>Once you have a project set up, when you want to read in dataset <em>whatever.txt</em>, you will be able to easily specify the path pointing to <em>whatever.txt</em> rather than having to specify a full path. This is critical for reproducibility, and we’ll talk about that more later.</p>
<div id="download-learning-materials" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Download learning materials</h3>
<p>To get things arranged for later, please download the dataset we are going to use. Right click –&gt; Save link as to download the file to your computer.</p>
<p><a href="data/gapminder.csv">gapminder data set</a></p>
<p>Move the dataset to your IntroR directory in a subfolder called <strong>data</strong>.</p>
<div class="figure">
<img src="images/filestructure.png" alt="File structure" width="450" />
<p class="caption">File structure</p>
</div>
<p>Now that we have a project directory and the dataset inside that project directory, make a new R script by going to File –&gt; New File –&gt; R Script. Now you too have the 4 pane layout.</p>
</div>
</div>
<div id="r-as-a-calculator" class="section level2">
<h2><span class="header-section-number">1.2</span> R as a calculator</h2>
<p>R can be used as a calculator. Make sure you’re typing into into the editor. Do not code in the console because this work will not be saved.</p>
<p>Use the Run button on the top of the script pane to run the code.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>## [1] 4</code></pre>
<p>Notice the output in the console that tells us the code we wrote and the answer. Let’s try some others.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">4</span></code></pre>
<pre><code>## [1] 20</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">^</span><span class="dv">3</span></code></pre>
<pre><code>## [1] 8</code></pre>
<p>Instead of using the Run button to run code, let’s try the keyboard shortcut to run code. To send code from the editor to the console, place your cursor on a line of code and use <code>CMD</code>+<code>Enter</code> (Mac) or <code>Ctrl</code>+<code>Enter</code> (Windows). This is <strong>way</strong> faster than using your mouse to hit the Run button each time.</p>
<p>Go back to your code above and run them using the keyboard. We can also run multiple lines of code at once. Now highlight 2 lines of code and run them together.</p>
<p>R also knows order of operations and scientific notation.</p>
<pre class="sourceCode r"><code class="sourceCode r">(<span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span>)<span class="op">^</span><span class="dv">2</span></code></pre>
<pre><code>## [1] 64</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span><span class="op">^</span><span class="dv">2</span></code></pre>
<pre><code>## [1] 14</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">5e4</span></code></pre>
<pre><code>## [1] 50000</code></pre>
<div id="comments" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Comments</h3>
<p>Anything after a <code>#</code> sign is a comment, meaning it will not be executed as code. Use them liberally to <em>comment about what you are doing and why</em>.</p>
<p>Today, you can take notes about what you are learning as comments.</p>
<p>Comments are a big part of making your work reproducible for others and for your future self when you open this script a few months from now and need to remember what you were doing.</p>
<p>Commenting is also helpful when you’re testing things out during your analysis so that you can ‘turn off’ parts of your script.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Here is a comment</span>
<span class="co"># Note that anything after the # is considered a comment</span></code></pre>
<p>Let’s save our script before we get any further.</p>
<p>Go up to File –&gt; Save As and let’s go with “intro.R”</p>
</div>
<div id="creating-r-objects" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Creating R objects</h3>
<p>Let’s learn to create R objects next. We assign <em>values</em> to <em>objects</em> using the assignment operator “&lt;-”. This arrow is typed with a less than sign followed by a dash. We first name the object on the left and then provide the assignment operator <code>&lt;-</code>, and then the value.</p>
<p>Let’s create an object called thing1 that takes the value 55.</p>
<pre class="sourceCode r"><code class="sourceCode r">thing1 &lt;-<span class="st"> </span><span class="dv">55</span></code></pre>
<p>Look in the Environment pane (top right) to see your new R object!</p>
<p><code>&lt;-</code> is the assignment operator in R. It assigns values on the right to object names on the left. Think of it like an arrow that points from the value to the object. The <code>&lt;-</code> is mostly similar to <code>=</code> but not always. Learn to use <code>&lt;-</code> as it is good R programming practice. Using <code>=</code> in place of <code>&lt;-</code> can lead to issues down the line. The keyboard shortcut for inserting the <code>&lt;-</code> operator is <code>option + dash</code>(Mac) and <code>Alt + dash</code> (Windows).</p>
<ul>
<li>Objects can be given any name such as <code>x</code>, <code>current_temperature</code>, or <code>subject_id</code>, but they may not have a space in the name. You want your object names to be explicit and not too long. They also cannot start with a number (<code>2x</code> is not valid but <code>x2</code> is). R is case sensitive (e.g., <code>thing1</code> is different from <code>Thing1</code>).</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">Thing1 &lt;-<span class="st"> </span><span class="dv">60</span></code></pre>
<p>Look in the Environment pane to see that there are now 2 different thing1 objects since we used different casing in the spelling of the object names.</p>
<p>There are some words that should not be used as object names because they represent the names of functions in R. It is best to not use function names as object names since it will be confusing to tell the difference between the object and the function (e.g., <code>c</code>, <code>T</code>, <code>mean</code>, <code>data</code>, <code>df</code>, <code>weights</code>).</p>
<p>If in doubt, start typing the name and if RStudio suggests something it already knows, then that name is already in use.</p>
<p>For example, it is perfectly reasonable to think that data is a great name for your dataset but as you start to type it, the autocomplete function in RStudio tells you that <code>data</code> already exists.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>()</code></pre>
<p>Try to use nouns for object names, and verbs for function names to help yourself remember what each item is.</p>
<p>When assigning a value to an object, R does not print anything. You can ask to print the value by typing the object name:</p>
<pre class="sourceCode r"><code class="sourceCode r">thing1</code></pre>
<pre><code>## [1] 55</code></pre>
<p>We can overwrite the value of thing1 by re-assigning it</p>
<pre class="sourceCode r"><code class="sourceCode r">thing1 &lt;-<span class="st"> </span><span class="dv">70</span>

<span class="co">#then call its name to see the object</span>
thing1</code></pre>
<pre><code>## [1] 70</code></pre>
<hr />
</div>
<div id="exercise-1" class="section level3">
<h3><span class="header-section-number">1.2.3</span> EXERCISE 1</h3>
<p>Try these on your own</p>
<p>A. You have a patient with a height (inches) of 73 and a weight (lbs) of 203. Create r objects labeled ‘height’ and ‘weight’.</p>
<details>
<p><summary>SHOW ANSWER A</summary></p>
<pre class="sourceCode r"><code class="sourceCode r">height &lt;-<span class="st"> </span><span class="dv">73</span>
weight &lt;-<span class="st"> </span><span class="dv">203</span>

height</code></pre>
<pre><code>## [1] 73</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">weight</code></pre>
<pre><code>## [1] 203</code></pre>
</details>
<p><br>
</br>
B. Convert ‘weight’ to ‘weight_kg’ by dividing by 2.2. Convert ‘height’ to ‘height_m’ by dividing by 39.37</p>
<details>
<p><summary>SHOW ANSWER B</summary></p>
<pre class="sourceCode r"><code class="sourceCode r">weight_kg &lt;-<span class="st"> </span>weight <span class="op">/</span><span class="st"> </span><span class="fl">2.2</span>
height_m &lt;-<span class="st"> </span>height <span class="op">/</span><span class="st"> </span><span class="fl">39.37</span>

weight_kg</code></pre>
<pre><code>## [1] 92.27273</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">height_m</code></pre>
<pre><code>## [1] 1.854204</code></pre>
</details>
<p><br>
</br></p>
<p>C. Calculate a new object ‘bmi’ where BMI = weight_kg / (height_m*height_m)</p>
<details>
<p><summary>SHOW ANSWER C</summary></p>
<pre class="sourceCode r"><code class="sourceCode r">bmi &lt;-<span class="st"> </span>weight_kg <span class="op">/</span><span class="st"> </span>(height_m <span class="op">*</span><span class="st"> </span>height_m)
bmi</code></pre>
<pre><code>## [1] 26.83851</code></pre>
</details>
<hr />
<p>You can remove objects from the environment using the <code>rm()</code> function. You can do this one at a time or remove several objects at once by separating their names with <code>,</code>. The broom button in the Environment pane will remove all objects from your environment.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(weight, Thing1)
<span class="co"># Now ask R for weight (uncomment the following line and run it)</span>
<span class="co"># weight</span>
<span class="co"># oops! you should get an error because weight no longer exists!</span></code></pre>
</div>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">1.3</span> Functions</h2>
<p>A function is a verb; it tells R to do something. To call an R function, we call the name of the function followed directly by <code>()</code>. The items passed to the function inside the () are called <em>arguments</em>. Arguments change the way a function behaves</p>
<p>Some functions don’t need any arguments</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.Date</span>() <span class="co">#get today&#39;s date</span></code></pre>
<p>Some functions just take a single argument. Let’s get the square root of 961. Now let’s get the square root of object1</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="dv">961</span>)</code></pre>
<pre><code>## [1] 31</code></pre>
<p>To learn more about the function, type <code>?</code> and then the function’s name</p>
<pre class="sourceCode r"><code class="sourceCode r">?sqrt</code></pre>
<p>Sometimes functions have arguments that have a default value. In those cases, you can override the default value by specifying your own.</p>
<p>For example, let’s look at the help page for the <code>rnorm()</code> function</p>
<pre class="sourceCode r"><code class="sourceCode r">?rnorm</code></pre>
<p><code>rnorm()</code> generates random values from the normal distribution. We must supply the n argument since there is no default value, but there is a default value set for the mean and sd arguments.</p>
<p>First we’ll allow the default mean and sd.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">10</span>)</code></pre>
<pre><code>##  [1] -1.3090343 -1.6326215 -0.2280516  1.2211626  0.5909781  1.4393893
##  [7] -1.1342667  1.6077852  0.3069296  0.8294870</code></pre>
<p>The above code drew 10 random draws from a normal distribution with a mean = 0 and an sd = 1</p>
<p>Now let’s set the n = 10, mean = 50, and the sd = 5 to see 10 random draws from a normal distribution with a mean = 50 and an sd = 5</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">mean =</span> <span class="dv">50</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre>
<pre><code>##  [1] 45.28830 44.17070 50.86072 43.58287 48.14721 47.79184 44.54560
##  [8] 49.40777 50.06373 47.83816</code></pre>
<p>What happens if we do not specify n? Uncomment the code below (remove the #) to see what happens</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rnorm(mean = 50, sd = 5)</span></code></pre>
<p>In the above examples, we have labeled our arguments according to their names in the help menu. If you do not label the arguments, they will be called into the function in the order given in the help menu.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># must be in order given by help menu to work as intended</span>
<span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">5</span>)</code></pre>
<pre><code>##  [1] 53.43296 56.13919 44.15177 48.47823 52.33586 55.72579 49.12621
##  [8] 45.76328 44.00105 41.85812</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#out of order, but works bc the arguments are labeled</span>
<span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="dv">5</span>, <span class="dt">mean =</span> <span class="dv">50</span>)</code></pre>
<pre><code>##  [1] 54.62725 53.27533 50.50110 43.74475 52.20894 50.10480 46.86524
##  [8] 48.82162 54.18838 48.64528</code></pre>
<p>To improve readability (and accuracy) of your code, we would recommend labeling your arguments.</p>
<div id="exercise-2" class="section level3">
<h3><span class="header-section-number">1.3.1</span> EXERCISE 2</h3>
<p>A. Use the arrow operator to create an object called object2 that stores 100 draws from a normal distribution with mean = 500 and sd = 100.</p>
<details>
<p><summary>SHOW ANSWER A</summary></p>
<pre class="sourceCode r"><code class="sourceCode r">object2 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">500</span>, <span class="dt">sd =</span> <span class="dv">100</span>)
object2</code></pre>
<pre><code>##   [1] 380.6650 468.6898 338.1565 431.2029 478.4040 343.9443 567.5280
##   [8] 331.8188 439.1542 470.9660 518.0962 437.2185 482.8895 458.4672
##  [15] 572.3832 394.8139 432.4172 621.5787 390.5640 546.8838 486.3190
##  [22] 311.2368 541.7225 566.2155 781.1090 638.2452 469.7396 527.3384
##  [29] 574.3147 455.7075 566.0264 618.3276 461.7657 585.3641 596.3315
##  [36] 661.1062 689.9269 504.7466 532.5932 465.9751 421.6967 799.8182
##  [43] 472.2955 516.4576 448.5830 685.5733 578.8136 475.3182 343.3749
##  [50] 448.0221 521.4557 421.1669 332.0241 412.8816 451.1657 470.4274
##  [57] 562.3054 475.5342 303.2014 573.5649 737.1477 557.0183 279.7531
##  [64] 538.8089 478.0425 498.2814 463.6054 494.0398 642.8422 417.3124
##  [71] 448.8654 524.3990 340.5277 411.6638 443.0320 526.4757 498.4000
##  [78] 512.8306 627.3920 598.5247 516.5243 522.0931 287.1633 398.9468
##  [85] 306.3976 384.9857 526.0013 351.8215 397.7918 527.3443 541.1173
##  [92] 545.8968 580.9618 600.4870 346.5521 547.5958 605.4174 407.7034
##  [99] 327.2423 556.7784</code></pre>
</details>
<p><br>
</br></p>
<p>B. Call <code>hist(object2)</code> to create a histogram of your normal distribution</p>
<details>
<p><summary>SHOW ANSWER B</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(object2)</code></pre>
<p><img src="Book_files/figure-html/ex2B-1.png" width="672" /></p>
</details>
<hr />
<p>Look at the environment. What does it tell you about object2?</p>
<p>The environment pane provides details about objects. We can see that object2 is a numeric object with items 1 through 100. Then we can see the first few numeric items in the object.</p>
<p>Let’s create some more R objects that are collections of several values. To accomplish this, we will use the function <code>c()</code>, which stands for concatenate or combine. Usually functions are named with a full word describing what they do but because combining items together is so common, this function gets a very short name.</p>
<pre class="sourceCode r"><code class="sourceCode r">object3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">55</span>, <span class="dv">60</span>, <span class="dv">35</span>, <span class="dv">70</span>)</code></pre>
<p>Check out the environment now. It worked! We created object3</p>
<p>Let’s create another object containing a different type of data</p>
<pre class="sourceCode r"><code class="sourceCode r">object4 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jack&quot;</span>, <span class="st">&quot;Leila&quot;</span>, <span class="st">&quot;Rohit&quot;</span>)</code></pre>
<p>Check out the environment now. Notice that it specifies that object4 is a character (chr) vector</p>
</div>
</div>
<div id="more-functions" class="section level2">
<h2><span class="header-section-number">1.4</span> More Functions</h2>
<p>Let’s <code>sum()</code> everything in object3</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(object3)</code></pre>
<pre><code>## [1] 220</code></pre>
<p>Try the <code>mean()</code> function on object3</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(object3)</code></pre>
<pre><code>## [1] 55</code></pre>
<p>What happens if we try to <code>sum()</code> object4? Uncomment the code below to try it</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#sum(object4)</span></code></pre>
<p>What if we take the square root of object3? The <code>sum()</code> and <code>mean()</code> functions both take a vector and return one number. What about <code>sqrt()</code> where we want multiple answers given multiple inputs?</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(object3)</code></pre>
<pre><code>## [1] 7.416198 7.745967 5.916080 8.366600</code></pre>
<p>It worked! Most functions in R are <strong>vectorized</strong> meaning that they will work on a vector as well as a single value. This means that in R, we usually do not need to write loops like we would in other languages.</p>
<div id="exercise-3" class="section level3">
<h3><span class="header-section-number">1.4.1</span> EXERCISE 3</h3>
<p>Try the following functions on object3 and on object4. What do each of the below functions do? Optionally, call up the help menu for these functions to learn more.</p>
<p>A. class()
B. length()
C. summary()
D. str()</p>
<details>
<p><summary>SHOW ANSWER</summary></p>
<p>The <code>class()</code> function provides information about the type of object</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(object3)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(object4)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p><code>length()</code> tells us how many items are in each vector</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(object3)</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(object4)</code></pre>
<pre><code>## [1] 3</code></pre>
<p><code>summary()</code> provides a summary of an object. In the case of object3, we have a 6 number numeric summary describing the minimum, 1st quartile, median, mean, 3rd quartile, and maximum. For object 4, <code>summary()</code> tells us that the object is a character</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(object3)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    35.0    50.0    57.5    55.0    62.5    70.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(object4)</code></pre>
<pre><code>##    Length     Class      Mode 
##         3 character character</code></pre>
<p>Finally, <code>str()</code> provides the structure of an object. For object3 and object4 <code>str()</code> returns the same information that we see in the environment, but for more complex objects, <code>str()</code> can be very helpful</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(object3)</code></pre>
<pre><code>##  num [1:4] 55 60 35 70</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(object4)</code></pre>
<pre><code>##  chr [1:3] &quot;Jack&quot; &quot;Leila&quot; &quot;Rohit&quot;</code></pre>
</details>
</div>
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">1.5</span> DataFrames</h2>
<p>Let’s move on to learning about dataframes. There are <em>lots</em> of different basic data structures in R. Besides the dataframe, there are also arrays, lists, matrices, etc. We are going to skip those in favor of spending time learning the data structure you’ll probably use most – the <strong>dataframe</strong>.</p>
<p>We use dataframes to store <em>heterogeneous tabular</em> data in R: <em>tabular</em>, meaning that individuals or observations are typically represented in rows, while variables or features are represented in columns; <em>heterogeneous</em>, meaning that columns/features/variables can be different classes (a variable like age, can be numeric, while another, like cause of death, can be a character string).</p>
</div>
<div id="r-packages" class="section level2">
<h2><span class="header-section-number">1.6</span> R Packages</h2>
<p>We have the gapminder.csv file into our project directory, but we don’t know anything about it yet. Our goal will be to read it into R so we can start exploring it.</p>
<p>There are lots of ways to load data into R. There is a point-and-click RStudio menu and go to File &gt; Import Data Set &gt; Import From Text File but that is not the most reproducible way to read in data.</p>
<p>Instead, we would prefer that you read data into R for analysis as part of your script.</p>
<p>I gave you the gm dataset as a csv file. “csv” stands for comma separated values. You can save any Excel, SPSS, Qualtrics, etc. data file as a .csv and then import it into R. This is the workflow that we would recommend.</p>
<p>To read a csv file into R, we are going to use a function <code>read_csv()</code> that is accessed from a package.</p>
<p>You can think of an R package like an app on your phone. Fist, we will need to install it from the internet.</p>
<p>When we call the <code>install.packages()</code> function, R goes to the Comprehensive R Archive Network (CRAN) and downloads the specified package. There are over 10K packages listed on CRAN, over 1500 on Bioconductor (bioinformatics packages), and many more under development on people’s github pages etc. You can be sure a package is safe to download if it comes from the CRAN or from Bioconductor.</p>
<p>Uncomment the line below to run the <code>install.packages()</code> function</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(&quot;tidyverse&quot;)</span></code></pre>
<p>Once we have installed it to this computer, you will not need to do that again (until you update R or your OS, etc). Therefore, comment out the install line.</p>
<p>The <code>library()</code> command loads the functions from that package into the R environment so that we can use them. This is like opening the app. We will need to do this every time we open the script.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ───────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ ggplot2 3.2.0     ✔ purrr   0.3.2
## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
## ✔ tidyr   0.8.3     ✔ stringr 1.4.0
## ✔ readr   1.3.1     ✔ forcats 0.4.0</code></pre>
<pre><code>## ── Conflicts ──────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<p>We can see based on the output from the <code>library(tidyverse)</code> line that the tidyverse is actually a megapackage, containing 8 packages. All of these packages share a similar syntax in an attempt to simplify coding and readability for R users. Aside from the core tidyverse packages, there are around 10 other packages</p>
<p>Ok! Now let’s write the line of code to read the csv file into R. We will use the <code>read_csv()</code> function that comes from the readr package (one of the tidyverse packages).</p>
<p>At the beginning of the session, we asked you to save the gm file into the data directory of your project file, so when we write the path to the gm file, we’ll specify that it is in the data folder.</p>
<pre class="sourceCode r"><code class="sourceCode r">gm &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/gapminder.csv&quot;</span>)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   country = col_character(),
##   continent = col_character(),
##   year = col_double(),
##   lifeExp = col_double(),
##   pop = col_double(),
##   gdpPercap = col_double()
## )</code></pre>
<p>If the above line did not work for you, follow the steps to create an R project with the gm file in a subdirectory called data.</p>
<p>Assuming you were able to load the data, let’s move on!</p>
<p>Let’s look at this object by calling its name</p>
<pre class="sourceCode r"><code class="sourceCode r">gm</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;chr&gt;       &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # … with 1,694 more rows</code></pre>
<p>Because we read in the data using <code>read_csv()</code>, the dataframe was read in as a modified dataframe called a tibble. Printing tibbles to the console looks great, but that used to not be the case. If you’d like to learn more about the difference between dataframes and tibbles please see the <a href="https://r4ds.had.co.nz/tibbles.html">tibbles section of R for Data Science</a></p>
<p>Let’s also use the <code>View()</code> function to look at the data. Note that this is a read only viewer - not like Excel where you can go in and change cell values etc. This feature helps with reproducibility.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(gm)</code></pre>
<p>Let’s go back to the script. Your script is still there. It is in a tab next to the viewer tab.</p>
<p>The third way to look at a dataframe or tibble is to click on the blue arrow next to the gm name in the Environment.</p>
<p><img src="images/env_blue_arrow.png" alt="Click the blue arrow next to the gm name in the environment" />{width = 400px}</p>
<p>This view enables you to see the variable names and classes while you type code, so this is often what my environment looks like.</p>
</div>
<div id="inspecting-dataframes" class="section level2">
<h2><span class="header-section-number">1.7</span> Inspecting Dataframes</h2>
<p>There are several functions that are useful for investigating dataframes. We already saw some of them in the section on Functions above.</p>
<p>Instead of printing the whole dataframe to the console, we can print an abbreviated version using <code>head()</code> and <code>tail()</code>. By default, these functions give us the first and last 6 rows respectively</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gm)</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country     continent  year lifeExp      pop gdpPercap
##   &lt;chr&gt;       &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(gm)</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country  continent  year lifeExp      pop gdpPercap
##   &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 Zimbabwe Africa     1982    60.4  7636524      789.
## 2 Zimbabwe Africa     1987    62.4  9216418      706.
## 3 Zimbabwe Africa     1992    60.4 10704340      693.
## 4 Zimbabwe Africa     1997    46.8 11404948      792.
## 5 Zimbabwe Africa     2002    40.0 11926563      672.
## 6 Zimbabwe Africa     2007    43.5 12311143      470.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># see the first 12 rows using the n = argument</span>
<span class="kw">head</span>(gm, <span class="dt">n =</span> <span class="dv">12</span>)</code></pre>
<pre><code>## # A tibble: 12 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;chr&gt;       &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## 11 Afghanistan Asia       2002    42.1 25268405      727.
## 12 Afghanistan Asia       2007    43.8 31889923      975.</code></pre>
<p>Remember, <code>class()</code> tells us the type of object</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(gm)</code></pre>
<pre><code>## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</code></pre>
<p>We can see that gm is a dataframe and a tibble (tbl)</p>
<p>We can look at the number of rows and columns with <code>dim()</code>, just the number of rows with <code>nrow()</code> and just the number of columns with <code>ncol()</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(gm)</code></pre>
<pre><code>## [1] 1704    6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(gm)</code></pre>
<pre><code>## [1] 1704</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(gm)</code></pre>
<pre><code>## [1] 6</code></pre>
<p><code>names()</code> will show us the column names</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(gm)</code></pre>
<pre><code>## [1] &quot;country&quot;   &quot;continent&quot; &quot;year&quot;      &quot;lifeExp&quot;   &quot;pop&quot;       &quot;gdpPercap&quot;</code></pre>
<p>And probably the two you’ll use the most to inspect data frames, because they are the most descriptive, are <code>summary()</code> and <code>str()</code>. Let’s start with <code>summary()</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(gm)</code></pre>
<pre><code>##    country           continent              year         lifeExp     
##  Length:1704        Length:1704        Min.   :1952   Min.   :23.60  
##  Class :character   Class :character   1st Qu.:1966   1st Qu.:48.20  
##  Mode  :character   Mode  :character   Median :1980   Median :60.71  
##                                        Mean   :1980   Mean   :59.47  
##                                        3rd Qu.:1993   3rd Qu.:70.85  
##                                        Max.   :2007   Max.   :82.60  
##       pop              gdpPercap       
##  Min.   :6.001e+04   Min.   :   241.2  
##  1st Qu.:2.794e+06   1st Qu.:  1202.1  
##  Median :7.024e+06   Median :  3531.8  
##  Mean   :2.960e+07   Mean   :  7215.3  
##  3rd Qu.:1.959e+07   3rd Qu.:  9325.5  
##  Max.   :1.319e+09   Max.   :113523.1</code></pre>
<p>Notice that the output depends on the type of column. For country, a character vector, we get a frequency count of the number of occurences of the first few countries. Same for continent. The other columns are numeric, so their summary is a six number summary showing the minimum, 1st quartile, median, mean, 3rd quartile, and the maximum.</p>
<p>The <code>read_csv()</code> determined what type of column each one was while we were reading in the data. Of course, there are arguments to change the type of column within the <code>read_csv()</code> function.</p>
<p>Let’s look now at the structure of gm.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(gm)</code></pre>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 1704 obs. of  6 variables:
##  $ country  : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...
##  $ continent: chr  &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ...
##  $ year     : num  1952 1957 1962 1967 1972 ...
##  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...
##  $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...
##  $ gdpPercap: num  779 821 853 836 740 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   country = col_character(),
##   ..   continent = col_character(),
##   ..   year = col_double(),
##   ..   lifeExp = col_double(),
##   ..   pop = col_double(),
##   ..   gdpPercap = col_double()
##   .. )</code></pre>
<p>The structure tells us that gm is a dataframe and tibble object and it specifies the dimensions. Below that, it also gives us each of the column names with the type of data it contains and the first 4 or 5 values for each column.</p>
</div>
<div id="accessing-variables" class="section level2">
<h2><span class="header-section-number">1.8</span> Accessing variables</h2>
<p>Notice in the <code>str()</code> output that there is a <code>$</code> in front of each of the variable names. That symbol is how we access invidual variables / columns / vectors from a dataframe object</p>
<p>To access a variable from a dataframe, the syntax we want is <code>dataframe$columnname</code></p>
<p>Let’s use this to print out all of values in the <code>pop</code> variable. First we call the dataframe, then $ and the variable name</p>
<pre class="sourceCode r"><code class="sourceCode r">gm<span class="op">$</span>pop</code></pre>
<p>Whoa. That function calls the whole column, which is 1704 observations long. Usually printing out a long vector or column to the console is not useful. Maybe we meant to call <code>head()</code> on one column</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gm<span class="op">$</span>pop)</code></pre>
<pre><code>## [1]  8425333  9240934 10267083 11537966 13079460 14880372</code></pre>
<p>What if we want to see the first 20 country values?</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gm<span class="op">$</span>country, <span class="dt">n =</span> <span class="dv">20</span>)</code></pre>
<pre><code>##  [1] &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot;
##  [6] &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot;
## [11] &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Albania&quot;     &quot;Albania&quot;     &quot;Albania&quot;    
## [16] &quot;Albania&quot;     &quot;Albania&quot;     &quot;Albania&quot;     &quot;Albania&quot;     &quot;Albania&quot;</code></pre>
<p>Nice! We can also use the $ to create a new variable and attach it onto our dataframe.</p>
<p>First let’s look at the first 20 values of the pop column</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gm<span class="op">$</span>pop, <span class="dt">n =</span> <span class="dv">20</span>)</code></pre>
<pre><code>##  [1]  8425333  9240934 10267083 11537966 13079460 14880372 12881816
##  [8] 13867957 16317921 22227415 25268405 31889923  1282697  1476505
## [15]  1728137  1984060  2263554  2509048  2780097  3075321</code></pre>
<p>Let’s say I would like a column where the population is in millions. We’ll take the original gm$pop and divide by 1e6 then save it as a new column on the dataframe.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># dataframe$newvar &lt;- dataframe$oldvar / 1e6</span>
gm<span class="op">$</span>popmill &lt;-<span class="st"> </span>gm<span class="op">$</span>pop <span class="op">/</span><span class="st"> </span><span class="fl">1e6</span>

<span class="co">#head of the new column</span>
<span class="kw">head</span>(gm<span class="op">$</span>popmill)</code></pre>
<pre><code>## [1]  8.425333  9.240934 10.267083 11.537966 13.079460 14.880372</code></pre>
<p>Great!</p>
<p>Using this <code>$</code> syntax, let’s calculate some descriptive statistics for life expectancy in the gm dataset.</p>
<p>Notice that the <code>lifeExp</code> variable is mixed case, so be careful in spelling. However, RStudio’s autocomplete function can help. Once you type the <code>gm$</code> RStudio autocompletes with the options for variable names so you can just select from the list.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(gm<span class="op">$</span>lifeExp)</code></pre>
<pre><code>## [1] 59.47444</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(gm<span class="op">$</span>lifeExp)</code></pre>
<pre><code>## [1] 12.91711</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">range</span>(gm<span class="op">$</span>lifeExp)</code></pre>
<pre><code>## [1] 23.599 82.603</code></pre>
<hr />
<div id="exercise-4" class="section level3">
<h3><span class="header-section-number">1.8.1</span> EXERCISE 4</h3>
<p>A. What’s the standard deviation of the population variable (hint: get help on the <code>sd</code> function with <code>?sd</code>)
B. What’s the mean gdpPercap?
C. What’s the range of years represented in the data?
D. Run a summary on the lifeExp column</p>
<details>
<p><summary>SHOW ANSWERS</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(gm<span class="op">$</span>pop)</code></pre>
<pre><code>## [1] 106157897</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(gm<span class="op">$</span>gdpPercap)</code></pre>
<pre><code>## [1] 7215.327</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">range</span>(gm<span class="op">$</span>year)</code></pre>
<pre><code>## [1] 1952 2007</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(gm<span class="op">$</span>lifeExp)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   23.60   48.20   60.71   59.47   70.85   82.60</code></pre>
</details>
<hr />
<p>While the gm dataset is fully complete (no missing values), in real life, dataframes often come with missing values. For basic statistical functions like mean, sd, etc., there is an argument <code>na.rm</code> that we can use to remove missing values prior to calculating the statistic.</p>
<p>In this case, the result will not change because we do not have any missings, but in case your dataset does, here is what the code would look like</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># calculate the mean population</span>
<span class="kw">mean</span>(gm<span class="op">$</span>pop)</code></pre>
<pre><code>## [1] 29601212</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#calculate the mean population after removing missings</span>
<span class="kw">mean</span>(gm<span class="op">$</span>pop, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 29601212</code></pre>
</div>
</div>
<div id="subset-a-dataframe-using-filter" class="section level2">
<h2><span class="header-section-number">1.9</span> Subset a dataframe using filter()</h2>
<p>Often we want to look at just a subset of the data that meet certain criteria. One really nice way to do this is the <code>filter()</code> function from the dplyr package. The dplyr package is one that we loaded when we loaded the tidyverse.</p>
<p><strong>filter() subsets rows</strong> of a dataframe.</p>
<p>The first argument to <code>filter()</code> is the dataframe we are filtering from and the second argument is the logical condition(s) the row must meet to be returned</p>
<p>There are six basic logical operators in R
-equal to <strong>==</strong>
-not equal to <strong>!=</strong>
-greather than <strong>&gt;</strong>
-greater than or equal to <strong>&gt;=</strong>
-less than <strong>&lt;</strong>
-less than or equal to <strong>&lt;=</strong></p>
<p>You can chain multiple conditions together with the AND operator <strong>&amp;</strong> or the OR <strong>|</strong> operator</p>
<p>Let’s see how it works by filtering for rows where the population is over 70Million. The first argument is the dataframe and the second is the logical criteria a row must meet to be returned. I’ll choose to use my new popmill variable</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, popmill <span class="op">&gt;</span><span class="st"> </span><span class="dv">70</span>)</code></pre>
<pre><code>## # A tibble: 118 x 7
##    country    continent  year lifeExp       pop gdpPercap popmill
##    &lt;chr&gt;      &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 Bangladesh Asia       1972    45.3  70759295      630.    70.8
##  2 Bangladesh Asia       1977    46.9  80428306      660.    80.4
##  3 Bangladesh Asia       1982    50.0  93074406      677.    93.1
##  4 Bangladesh Asia       1987    52.8 103764241      752.   104. 
##  5 Bangladesh Asia       1992    56.0 113704579      838.   114. 
##  6 Bangladesh Asia       1997    59.4 123315288      973.   123. 
##  7 Bangladesh Asia       2002    62.0 135656790     1136.   136. 
##  8 Bangladesh Asia       2007    64.1 150448339     1391.   150. 
##  9 Brazil     Americas   1962    55.7  76039390     3337.    76.0
## 10 Brazil     Americas   1967    57.6  88049823     3430.    88.0
## # … with 108 more rows</code></pre>
<p>We do not need to specify <code>gm$popmill</code> because the first argument told R we would be operating within the gm dataframe. Therefore, we need only specify the variable name in the second argument.</p>
<p>118 rows meet this criteria.</p>
<p>Now let’s see rows belonging to the United States. First let’s use <code>View()</code> to see how USA is spelled. Click on the country column header to sort by country to quickly scroll to the <em>U</em> section.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(gm)</code></pre>
<p>Ok, now that we know how it is spelled, we can write a line of code to filter for where country is ‘United States’. We need the quotes because country is a character (factor) variable.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, country <span class="op">==</span><span class="st"> &#39;United States&#39;</span>)</code></pre>
<pre><code>## # A tibble: 12 x 7
##    country       continent  year lifeExp       pop gdpPercap popmill
##    &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 United States Americas   1952    68.4 157553000    13990.    158.
##  2 United States Americas   1957    69.5 171984000    14847.    172.
##  3 United States Americas   1962    70.2 186538000    16173.    187.
##  4 United States Americas   1967    70.8 198712000    19530.    199.
##  5 United States Americas   1972    71.3 209896000    21806.    210.
##  6 United States Americas   1977    73.4 220239000    24073.    220.
##  7 United States Americas   1982    74.6 232187835    25010.    232.
##  8 United States Americas   1987    75.0 242803533    29884.    243.
##  9 United States Americas   1992    76.1 256894189    32004.    257.
## 10 United States Americas   1997    76.8 272911760    35767.    273.
## 11 United States Americas   2002    77.3 287675526    39097.    288.
## 12 United States Americas   2007    78.2 301139947    42952.    301.</code></pre>
<p>Now let’s return the data that meets multiple criteria at once. We’ll use the <code>&amp;</code> to combine the year == 1982 and country == “United States” criteria</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, year <span class="op">==</span><span class="st"> </span><span class="dv">1982</span> <span class="op">&amp;</span><span class="st"> </span>country <span class="op">==</span><span class="st"> &#39;United States&#39;</span>)</code></pre>
<pre><code>## # A tibble: 1 x 7
##   country       continent  year lifeExp       pop gdpPercap popmill
##   &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 United States Americas   1982    74.6 232187835    25010.    232.</code></pre>
<p>We’ll do one more together before you will practice on your own. Let’s filter the gm dataset for rows where the population is higher than 1 billion (1e9). This time, let’s start with the original pop variable</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, pop <span class="op">&gt;</span><span class="st"> </span><span class="fl">1e9</span>)</code></pre>
<pre><code>## # A tibble: 8 x 7
##   country continent  year lifeExp        pop gdpPercap popmill
##   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 China   Asia       1982    65.5 1000281000      962.   1000.
## 2 China   Asia       1987    67.3 1084035000     1379.   1084.
## 3 China   Asia       1992    68.7 1164970000     1656.   1165.
## 4 China   Asia       1997    70.4 1230075000     2289.   1230.
## 5 China   Asia       2002    72.0 1280400000     3119.   1280.
## 6 China   Asia       2007    73.0 1318683096     4959.   1319.
## 7 India   Asia       2002    62.9 1034172547     1747.   1034.
## 8 India   Asia       2007    64.7 1110396331     2452.   1110.</code></pre>
<hr />
<div id="exercise-1.5" class="section level3">
<h3><span class="header-section-number">1.9.1</span> EXERCISE 1.5</h3>
<p>Use the <code>filter()</code> function to return rows matching the given criteria.</p>
<p>A. Which rows have life expectancies of more than 80 years (&gt;80)?</p>
<details>
<p><summary>SHOW ANSWER A</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, lifeExp <span class="op">&gt;</span><span class="st"> </span><span class="dv">80</span>)</code></pre>
<pre><code>## # A tibble: 21 x 7
##    country          continent  year lifeExp      pop gdpPercap popmill
##    &lt;chr&gt;            &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 Australia        Oceania    2002    80.4 19546792    30688.  19.5  
##  2 Australia        Oceania    2007    81.2 20434176    34435.  20.4  
##  3 Canada           Americas   2007    80.7 33390141    36319.  33.4  
##  4 France           Europe     2007    80.7 61083916    30470.  61.1  
##  5 Hong Kong, China Asia       2002    81.5  6762476    30209.   6.76 
##  6 Hong Kong, China Asia       2007    82.2  6980412    39725.   6.98 
##  7 Iceland          Europe     2002    80.5   288030    31163.   0.288
##  8 Iceland          Europe     2007    81.8   301931    36181.   0.302
##  9 Israel           Asia       2007    80.7  6426679    25523.   6.43 
## 10 Italy            Europe     2002    80.2 57926999    27968.  57.9  
## # … with 11 more rows</code></pre>
</details>
<p><br>
</br></p>
<p>B. Which countries had a low GDP per capita (&lt; 500) in 2007?</p>
<details>
<p><summary>SHOW ANSWER B</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, gdpPercap <span class="op">&lt;</span><span class="st"> </span><span class="dv">500</span> <span class="op">&amp;</span><span class="st"> </span>year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>)</code></pre>
<pre><code>## # A tibble: 4 x 7
##   country          continent  year lifeExp      pop gdpPercap popmill
##   &lt;chr&gt;            &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 Burundi          Africa     2007    49.6  8390505      430.    8.39
## 2 Congo, Dem. Rep. Africa     2007    46.5 64606759      278.   64.6 
## 3 Liberia          Africa     2007    45.7  3193942      415.    3.19
## 4 Zimbabwe         Africa     2007    43.5 12311143      470.   12.3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span> <span class="op">&amp;</span><span class="st"> </span>gdpPercap <span class="op">&lt;</span><span class="st"> </span><span class="dv">500</span>) </code></pre>
<pre><code>## # A tibble: 4 x 7
##   country          continent  year lifeExp      pop gdpPercap popmill
##   &lt;chr&gt;            &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 Burundi          Africa     2007    49.6  8390505      430.    8.39
## 2 Congo, Dem. Rep. Africa     2007    46.5 64606759      278.   64.6 
## 3 Liberia          Africa     2007    45.7  3193942      415.    3.19
## 4 Zimbabwe         Africa     2007    43.5 12311143      470.   12.3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># order doesn&#39;t matter</span></code></pre>
</details>
<p><br>
</br></p>
<p>C. Which rows have extremely low GDP per capita (&lt; 300) OR extremely low life expectancy (&lt; 30)?</p>
<details>
<p><summary>SHOW ANSWER C</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(gm, gdpPercap <span class="op">&lt;</span><span class="st"> </span><span class="dv">300</span> <span class="op">|</span><span class="st"> </span>lifeExp <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)</code></pre>
<pre><code>## # A tibble: 6 x 7
##   country          continent  year lifeExp      pop gdpPercap popmill
##   &lt;chr&gt;            &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 Afghanistan      Asia       1952    28.8  8425333      779.   8.43 
## 2 Congo, Dem. Rep. Africa     2002    45.0 55379852      241.  55.4  
## 3 Congo, Dem. Rep. Africa     2007    46.5 64606759      278.  64.6  
## 4 Guinea-Bissau    Africa     1952    32.5   580653      300.   0.581
## 5 Lesotho          Africa     1952    42.1   748747      299.   0.749
## 6 Rwanda           Africa     1992    23.6  7290203      737.   7.29</code></pre>
</details>
<hr />
</div>
</div>
<div id="plots-in-base-r" class="section level2">
<h2><span class="header-section-number">1.10</span> Plots in base R</h2>
<p>Plots are a great way to help us explore our dataset to see relationships, investigate interactions, diagnose problems, etc.</p>
<p>Here we will introduce plotting using base R (without loading any extra packages). Chapter 2 is all about plotting using the premier plotting package in R, ggplot2. Jump to /<span class="citation">@ref</span>(ggplot)</p>
<p>Let’s start out with a histogram of the life expectancy variable from gm.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(gm<span class="op">$</span>lifeExp)</code></pre>
<p><img src="Book_files/figure-html/hist1-1.png" width="672" /></p>
<p>R decided how many breaks to insert in the above histogram, but we can set that manually using the <code>breaks =</code> argument.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(gm<span class="op">$</span>lifeExp, <span class="dt">breaks=</span><span class="dv">100</span>)</code></pre>
<p><img src="Book_files/figure-html/hist2-1.png" width="672" /></p>
<p>We can also change the color of the bars using <code>col =</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(gm<span class="op">$</span>lifeExp, <span class="dt">breaks=</span><span class="dv">100</span>, <span class="dt">col=</span><span class="st">&#39;blue&#39;</span>)</code></pre>
<p><img src="Book_files/figure-html/hist3-1.png" width="672" /></p>
<p>If we wanted to look at more than one numeric variable we could try a scatterplot. The syntax for <code>plot(dataframe$varX, dataframe$varY)</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gm<span class="op">$</span>gdpPercap, gm<span class="op">$</span>lifeExp)</code></pre>
<p><img src="Book_files/figure-html/plot2-1.png" width="672" /></p>
<p>The default plotting character in base R is an open circle, which I dislike. Let’s change that using the <code>pch =</code> argument, which stands for plotting character. pch ranges from 0 - 25 and you can easily search for what each looks like on the internet. I’ll change mine to <code>pch = 16</code>, a filled-in circle.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gm<span class="op">$</span>gdpPercap, gm<span class="op">$</span>lifeExp, <span class="dt">pch =</span> <span class="dv">16</span>)</code></pre>
<p><img src="Book_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Next, I would like to change the color of the points to red using <code>col = &quot;red&quot;</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gm<span class="op">$</span>gdpPercap, gm<span class="op">$</span>lifeExp, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre>
<p><img src="Book_files/figure-html/buildplot-1.png" width="672" /></p>
<p>You can see the names of all 657 base R colors</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colors</span>()</code></pre>
<p>To add a title, the argument is <code>main =</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gm<span class="op">$</span>gdpPercap, gm<span class="op">$</span>lifeExp, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Life Exp vs GDP&quot;</span>)</code></pre>
<p><img src="Book_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>Finally, we’ll add an xlabel and a ylabel both in quotes.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gm<span class="op">$</span>gdpPercap, gm<span class="op">$</span>lifeExp, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Life Exp vs GDP&quot;</span>, 
     <span class="dt">ylab =</span> <span class="st">&quot;Life Expectancy (years)&quot;</span>, 
     <span class="dt">xlab =</span> <span class="st">&quot;Per-capita GDP ($)&quot;</span>)</code></pre>
<p><img src="Book_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>There are hundreds of plotting parameters you can use to customize your plot’s appearance. I know these parameters because I have learned them. The internet is your friend in this case, so if you forget how to modify a parameter, don’t be afraid to Google it.</p>
<hr />
<div id="exercise-5" class="section level3">
<h3><span class="header-section-number">1.10.1</span> EXERCISE 5</h3>
<p>Create a histogram to show the distribution of the gdpPercap variable with 100 breaks. Optional: Add color, axis labels, and a title</p>
<details>
<p><summary>SHOW ANSWER</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(gm<span class="op">$</span>gdpPercap, <span class="dt">breaks =</span> <span class="dv">100</span>)</code></pre>
<p><img src="Book_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
</details>
<hr />
<p>Visualizations are a large part of R’s appeal and in our opinion, learning to plot using ggplot2 will serve you well. Therefore, we only cover the very basics of plotting using base R here, and devote more time to a more comprehensive dive into ggplot2 in Chapter 2 /<span class="citation">@ref</span>(ggplot2)</p>
</div>
</div>
<div id="write-csv-file" class="section level2">
<h2><span class="header-section-number">1.11</span> Write csv file</h2>
<p>We’ve already seen how to read in data using read_csv(). Now we’ll do the opposite. There are going to be some cases when you need to save the data you’re working on to open up outside of R.</p>
<p>Just like R has functions to read data of many different kinds of formats, it also has functions to write data into many different kinds of formats. We’ll stick to csv format here.</p>
<p>First, let’s create a dataframe that is a subset of gm where the year is 1997. We’ll name the resulting dataframe</p>
<pre class="sourceCode r"><code class="sourceCode r">gm97 &lt;-<span class="st"> </span><span class="kw">filter</span>(gm, year <span class="op">==</span><span class="st"> </span><span class="dv">1997</span>)</code></pre>
<p>To save this as a csv file, we will call <code>write_csv()</code> where the first argument is the R object to be written and the second argurment is the name of the proposed file.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_csv</span>(gm97, <span class="st">&quot;gm97.csv&quot;</span>)</code></pre>
<p>Where did it go? Let’s have a look at the Files pane (bottom right) and there it is. It went into our working directory (project directory) automatically. We don’t need to worry about our working directory here because we’re using an R project.</p>
</div>
<div id="saving-your-work-and-quitting-r" class="section level2">
<h2><span class="header-section-number">1.12</span> Saving your work and quitting R</h2>
<p>We’ll close this chapter with how to save your work.</p>
<p>Our suggestion is to make sure your R script (top left) is saved and then throw out the rest. After all, the script created the objects in the environment, the output in the console, and all the plots. Remember that to save your script, go to File –&gt; Save or <code>CMD + S</code> (mac) and <code>CTRL + S</code> (pc).</p>
<p>I prefer that RStudio never ask me to save my workspace (Environment, Plots, etc) so I have set that preference in Tools –&gt; Global Options –&gt; General. <em>Save workspace to .RData on exit = “never”</em>. While you are at it, <strong>uncheck</strong> the options for 1. Restore most recently opened project 2.Restore previosuly open source documents on startup 3. Restore .RData into workspace at startup</p>
<p>Once your script is saved, quit RStudio.</p>
<p>To re-open the project and prove to yourself that all of your hard work has been preserved, double click the Rproj file to launch RStudio in your project directory. Now open your script and start running your code.</p>
<p>To run all the code in an R file (there have to be no errors), highlight the entire code <code>CMD + A</code> (mac) or <code>CTRL + A</code> (pc) and then run.</p>
<p>Woohooo! Happy Running! See you in Chapter 2.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Credit to <a href="https://moderndive.com/">Modern Dive</a> for the R and RStudio analogies<a href="Intro.html#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ggplot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
